# 1.3 又爱又恨的OOP

> 面向对象编程（**Object-oriented** programming  OOP），这是Java的核心思想之一，还记得它有哪些特性么？Overload和Override的区别是什么？

## **面向对象的四大特性**

- 抽象（Abstraction）

  抽象类和接口*（引用：https://blog.csdn.net/qq_43668570/article/details/98339299）*

  ```java
  抽象类（abstract）
  	1. 如果一个类暂时有方法未实现，需要被定义为抽象类（方法只有方法名，形参列表，没有方法体（未实现方法），则所在类被定义为抽象类）
      2. 关键词abstract声明的类叫作抽象类，abstract声明的⽅法叫抽象⽅法。如果有抽象方法，一定要声明定义抽象类。
      3. 抽象类也是类，一个类继承于抽象类，就不能继承于其他的（抽象）类
      4. 子类可以继承于抽象类，但是一定要实现父类们所有的abstract方法。如果不能全部实现，那么子类也必须被定义为抽象类。只有实现父类的所有抽象方法，才能变成完整类，才可以被new出来一个object。
  
  接口（interface）
      1. 接口设计是为了弥补单根继承的不足。单根继承下，一个类只能遵循另外一个类的标准。
      2. 类只可以继承（extends）一个类（被继承的类可以是抽象类也可以是普通类），但是可以实现（implements）多个接口。
      3. 实现一个或多个接口，必须实现接口中所定义的所有方法。如果没有全部实现，那么只能成为一个抽象类。
      4. 接口不算类，或者说是“特殊类”,所以定义接口不需要class
  
  两者区别：
      1. 抽象类可以有部分方法实现，接口所有方法不能有实现（jdk8以后，引入default和static方法，接口中可以有默认的实现方法）
      2. 一个类只能继承（extends）一个（抽象）类，实现（implements）多个接口
      3. 抽象类有构造函数，接口没有构造函数
      4. 抽象类可以有main，也能运行，接口没有main函数
      5. 抽象类方法可以有private/protected，接口方法都是public
  ```

  ```java
  JDK8以后新特性：
      1. 接口可以继承自另一个接口，也支持接口的多继承。（注意：类只能单继承）。
      2. 接口中可以有static⽅法，且必须有⽅法实现体。该⽅法只属于该接⼝，用接⼝名直接调⽤该⽅法。
      3. 接⼝中新增default关键字修饰的⽅法，且default定义的⽅法必须有⽅法体。default⽅法只能定义在接⼝中，可以在⼦类或⼦接⼝中被重写。
  ```

  

- 封装（Encapsulation）

  ```java
  1. 封装是把过程和数据包围起来，对数据的访问只能通过已定义的接⼝即⽅法。例如把变量都定义成private，然后用get和set函数来对外进行操作。
  2. 在java中通过关键字private，protected和public实现封装。
  3. 封装可以让代码更容易理解和维护，也加强了代码的安全性。
  ```

  

- 继承（Inheritance）

  ```java
  ⼦类继承⽗类的特征和⾏为，使得⼦类对象具有⽗类的⽅法和属性，⽗类也叫基类，具有公共的⽅法和属性
  ```

  

- 多态（Polymorphism）

  ```java
  同⼀个⾏为具有多个不同表现形式的能⼒
  优点：减少耦合、灵活可拓展
  ⼀般是继承类或者重写⽅法实现，java中常见的是同一个方法名和返回类型，但是有不同的形式参数。
  ```

  ```java
  Overload和Override：
  Overload（重载）：一个类中可以有多个名称相同的方法，但是参数不同
  Override（重写）：子类重写父类中的某个方法。子类中的方法与父类中的方法的名称和参数完全相同
  ```



## 对象的排重、比较、排序

**hashCode()和equals()方法的应用与重写**

- hashcode（）
  - 顶级类Object里面的方法，返回int
  - 根据一定的hash规则，计算出的一个数（根据储存地址，字段，长度等）
- equals（）
  - 顶级类Object里面的方法，返回boolean
  - 用于匹配两个对象是否一样，可以重写来自定义对象一样的逻辑，通常逻辑如下：
    1. 判断地址是否一样
    2. 判断非空和Class类型
    3. 强制转换
    4. 对象里面的字段一一匹配

**手写一个User对象，重写里面的hashcode（）和equals（）方法**

参见文档[User](../src/main/java/sample/User.java)。

